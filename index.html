<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Why I Love You ‚Äî Aanvi üíô</title>
  <style>
    :root{
      --bg1: #e8f3ff;
      --bg2: #e6d7ff;
      --bg3: #d7eaff;
      --accent-deep: #4b2c83;
      --accent-navy: #143a5a;
      --button: #8aa4ff;
      --button-text: #ffffff;
      --confetti-blue: #93c5ff;
      --confetti-lav: #b9a6ff;
      --font-sans: 'Helvetica Neue', Arial, Helvetica, sans-serif;
    }
    html,body{height:100%;margin:0;font-family:var(--font-sans);-webkit-font-smoothing:antialiased}
    .wrap{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:space-between;overflow:hidden;position:relative}

    /* gradient backgrounds that cycle */
    .bg-layer{position:absolute;inset:0;transition:opacity 1.1s ease;}
    .bg-a{background:linear-gradient(135deg,var(--bg1),var(--bg2));}
    .bg-b{background:linear-gradient(135deg,var(--bg2),var(--bg3));}
    .bg-c{background:linear-gradient(135deg,var(--bg3),var(--bg2));}

    header{width:100%;padding:28px 20px;box-sizing:border-box;display:flex;align-items:center;justify-content:center}
    h1{margin:0;font-size:22px;color:var(--accent-deep);letter-spacing:0.2px}

    main{width:100%;max-width:1100px;padding:24px;box-sizing:border-box;display:flex;flex-direction:column;align-items:center}

    .card{
      width:100%;background:rgba(255,255,255,0.65);backdrop-filter:blur(6px);border-radius:18px;padding:30px;text-align:center;box-shadow:0 10px 30px rgba(20,58,90,0.08);
    }

    .message{font-size:28px;font-weight:700;color:var(--accent-navy);line-height:1.15;margin-bottom:18px}
    .sub{font-size:15px;color:var(--accent-deep);opacity:0.88;margin-bottom:14px}

    .reason{min-height:80px;font-size:20px;color:var(--accent-navy);opacity:0;transform:translateY(6px);transition:opacity .45s ease,transform .45s ease}
    .reason.show{opacity:1;transform:translateY(0)}

    .controls{margin-top:18px;display:flex;gap:12px;align-items:center;justify-content:center}
    .btn{
      border:0;padding:14px 22px;border-radius:12px;font-weight:700;cursor:pointer;box-shadow:0 8px 20px rgba(11,41,80,0.08)
    }
    .btn-primary{background:var(--button);color:var(--button-text)}
    .btn-ghost{background:transparent;color:var(--accent-deep);border:1px solid rgba(20,58,90,0.06)}

    /* floating hearts canvas */
    #heartsCanvas{position:absolute;inset:0;pointer-events:none}

    /* hearts for surprise */
    .heart {
      position: fixed;
      bottom: 0;
      width: 24px;
      height: 24px;
      background: red;
      clip-path: polygon(50% 0%, 61% 15%, 75% 15%, 84% 27%, 84% 42%, 75% 54%, 50% 80%, 25% 54%, 16% 42%, 16% 27%, 25% 15%, 39% 15%);
      animation: floatUp linear forwards;
      z-index: 9999;
    }

    @keyframes floatUp {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-120vh) scale(1.3); opacity: 0; }
    }

    .popup-message {
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255,255,255,0.9);
      padding: 12px 24px;
      border-radius: 12px;
      font-weight: 600;
      color: #143a5a;
      z-index: 9999;
      pointer-events: none;
    }

    /* final screen */
    .final-screen{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:18px;background:linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));backdrop-filter:blur(2px);}
    .final-title{font-size:38px;color:var(--accent-deep);font-weight:800}

    /* replay/quit row */
    .row{display:flex;gap:12px}

    /* small screen tweaks */
    @media (max-width:720px){
      .card{padding:20px;border-radius:14px}
      .message{font-size:20px}
      .reason{font-size:18px}
      .btn{padding:12px 16px}
    }

    /* playful floating animation for the main button */
    .float{display:inline-block;transform-origin:center center}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="bg-layer bg-a" id="bgA"></div>
    <div class="bg-layer bg-b" id="bgB" style="opacity:0"></div>
    <div class="bg-layer bg-c" id="bgC" style="opacity:0"></div>

    <canvas id="heartsCanvas"></canvas>

    <header>
      <h1>I Love You Aanvi ‚ù§Ô∏è</h1>
    </header>

    <main>
      <div class="card" id="card">
        <div class="message">Click the button to see why I love you üíó</div>
        <div class="sub">Little reasons I wrote just for you ‚Äî tap to reveal one at a time</div>
        <div class="reason" id="reasonText"></div>

        <div class="controls" id="controls">
          <button id="tellBtn" class="btn btn-primary float">Tell Me Why üíå</button>
          <button id="replaySmall" class="btn btn-ghost">Surprise me üéÅ</button>
        </div>
      </div>
    </main>

    <div style="height:34px"></div>

    <!-- Final screen -->
    <div id="finalScreen" class="final-screen" style="display:none">
      <div class="final-title">Happy Birthday, my love üíñ</div>
      <div style="font-size:18px;color:var(--accent-navy);opacity:0.9;max-width:760px;text-align:center">That‚Äôs just a few reasons... but every day I‚Äôm grateful for you.</div>
      <div class="row" style="margin-top:6px">
        <button id="replayBtn" class="btn btn-primary">Replay üíû</button>
        <button id="quitBtn" class="btn btn-ghost">Close ‚ú®</button>
      </div>
    </div>
  </div>

  <script>
    const HER_NAME = 'Aanvi';
    const MASTER_REASONS = [
      "You make my world feel calm, safe, and beautifully peaceful üíô",
      "Your presence feels like my favourite place to be ‚ú®",
      "You have no ego at all ‚Äî you even called me 15 times back-to-back while I was asleep like a total dumbo, and it still makes me smile every time üíô",
      "You turn even ordinary days into something I look forward to üíú",
      "Your smile makes everything around me feel softer and brighter üíô",
      "The way you care for people shows how rare and precious your heart is üí´",
      "You look absolutely adorable when you blush after I kiss you ‚Äî it‚Äôs one of my favourite things about you üíú",
      "You understand me in ways no one else ever has üíú",
      "Your voice brings comfort to parts of me I didn‚Äôt know needed healing üíô",
      "The way you say 'aiyo' and 'poda' is the cutest thing ever, I love it every single time üíô",
      "I love how genuine and pure your laughter is ‚Äî it makes me happy instantly ‚ú®",
      "You bring out the best version of me without even trying üíú",
      "Being close to you feels like everything is finally right üíô",
      "You notice the small things about me, and that means more than you know üí´",
      "Your energy makes life feel lighter, happier, and much more meaningful üíú",
      "You‚Äôre not just beautiful ‚Äî you‚Äôre beautifully *you* in every possible way ‚ú®",
      "You make me feel loved, valued, and truly seen üíô",
      "I‚Äôm grateful for you today, tomorrow, and every day after ‚Äî Happy Birthday, my love üíú"
    ];

    const reasonEl = document.getElementById('reasonText');
    const tellBtn = document.getElementById('tellBtn');
    const replaySmall = document.getElementById('replaySmall');
    const finalScreen = document.getElementById('finalScreen');
    const replayBtn = document.getElementById('replayBtn');
    const quitBtn = document.getElementById('quitBtn');
    const card = document.getElementById('card');

    function shuffledReasons(){
      const copy = MASTER_REASONS.slice();
      for(let i = copy.length -1; i>0; i--){
        const j = Math.floor(Math.random()*(i+1));
        [copy[i], copy[j]] = [copy[j], copy[i]];
      }
      return copy;
    }
    let reasons = shuffledReasons();

    function showReasonText(txt){
      reasonEl.classList.remove('show');
      setTimeout(()=>{
        reasonEl.textContent = txt;
        reasonEl.classList.add('show');
        avoidOverlap();
      },120);
    }

    function onTell(){
      if(reasons.length>0){
        const next = reasons.shift();
        showReasonText(next);
        if(reasons.length===0){
          setTimeout(triggerFinal,1200);
        }
      }
      tellBtnAnimateOnce();
    }

    tellBtn.addEventListener('click', onTell);

    replaySmall.addEventListener('click', ()=>{
      reasons = shuffledReasons();
      showReasonText('Surprise! I added more reasons ‚Äî tap the heart üíó');
      surpriseMe();
    });

    replayBtn.addEventListener('click', ()=>{ resetApp(); });
    quitBtn.addEventListener('click', ()=>{ window.close(); });

    const bgA = document.getElementById('bgA');
    const bgB = document.getElementById('bgB');
    const bgC = document.getElementById('bgC');
    const bgLayers = [bgA,bgB,bgC];
    let bgIndex = 0;
    function cycleBackground(){
      const prev = bgIndex;
      bgIndex = (bgIndex+1)%bgLayers.length;
      bgLayers.forEach((el,i)=> el.style.opacity = (i===bgIndex)?'1':'0');
      setTimeout(cycleBackground, 2000 + Math.random()*600);
    }
    cycleBackground();

    const canvas = document.getElementById('heartsCanvas');
    const ctx = canvas.getContext('2d');
    let W = canvas.width = window.innerWidth;
    let H = canvas.height = window.innerHeight;
    window.addEventListener('resize', ()=>{W=canvas.width=window.innerWidth; H=canvas.height=window.innerHeight});

    function rand(min,max){return Math.random()*(max-min)+min}

    class HeartParticle{
      constructor(){
        this.x = rand(0,W); this.y = rand(-120,-10);
        this.vy = rand(0.6,2.4); this.vx = rand(-0.6,0.6);
        this.size = rand(8,28); this.life = rand(120,300); this.age = 0;
        this.color = Math.random()<0.5 ? getComputedStyle(document.documentElement).getPropertyValue('--confetti-blue') : getComputedStyle(document.documentElement).getPropertyValue('--confetti-lav');
      }
      draw(){
        ctx.save(); ctx.translate(this.x,this.y);
        const s = this.size/12; ctx.fillStyle = this.color.trim() || '#93c5ff';
        ctx.beginPath();
        ctx.moveTo(0,-s*6);
        ctx.bezierCurveTo(s*6,-s*14,s*18,-s*6,0,s*6);
        ctx.bezierCurveTo(-s*18,-s*6,-s*6,-s*14,0,-s*6);
        ctx.fill(); ctx.restore();
      }
      update(){ this.y += this.vy; this.x += this.vx; this.age++; }
      expired(){ return this.y - this.size > H || this.age > this.life; }
    }

    const particles = [];
    function spawnHearts(){
      if(Math.random()<0.22) particles.push(new HeartParticle());
      if(Math.random()<0.05){const big=new HeartParticle(); big.size = rand(28,60); particles.push(big)}
    }
    function render(){
      ctx.clearRect(0,0,W,H);
      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i]; p.update(); p.draw(); if(p.expired()) particles.splice(i,1);
      }
      requestAnimationFrame(render);
    }
    setInterval(spawnHearts,50);
    render();

    let floatPhase = 0;
    function floatLoop(){
      floatPhase += 0.12;
      const offset = Math.sin(floatPhase)*6;
      tellBtn.style.transform = `translateY(${offset}px)`;
      requestAnimationFrame(floatLoop);
    }
    floatLoop();

    function avoidOverlap(){
      const rect = card.getBoundingClientRect();
      const controls = document.getElementById('controls');
      const minX = rect.left + 40; const maxX = rect.right - 260;
      const newX = Math.max(minX, Math.min(maxX, Math.floor(rand(minX,maxX))));
      const newY = rect.top + rect.height*0.55 + rand(-10,18);
      const relX = newX - rect.left;
      controls.style.position = 'relative';
      controls.style.left = Math.min(20,Math.max(0,relX - 20)) + 'px';
    }

    function tellBtnAnimateOnce(){
      tellBtn.animate([
        { transform: 'scale(1) rotate(0deg)' },
        { transform: 'scale(1.06) rotate(-4deg)' },
        { transform: 'scale(1) rotate(0deg)' }
      ],{duration:280,easing:'ease-out'})
    }

    function triggerFinal(){
      finalScreen.style.display = 'flex';
      for(let i=0;i<40;i++){particles.push(new HeartParticle());}
    }

    function resetApp(){
      reasons = shuffledReasons();
      finalScreen.style.display = 'none';
      reasonEl.textContent = '';
      card.animate([{opacity:0.4},{opacity:1}],{duration:360});
    }

    showReasonText('HAPPY 17 CUTUU üíó');
    setTimeout(avoidOverlap,220);

    document.addEventListener('keydown',(e)=>{ if(e.key===' '||e.key==='Enter'){ e.preventDefault(); onTell(); } });

    function surpriseMe(){
      for (let i = 0; i < 20; i++) {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = 2 + Math.random() * 2 + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
      }
      const messages = [
        "You're the cutest human alive ‚ù§Ô∏è",
        "I adore you more than words üò≠",
        "My world feels better with you in it üíô",
        "You're my favourite notification ever üíå",
        "If loving you is a bug, I don't want a fix üíªüíñ"
      ];
      const msg = messages[Math.floor(Math.random() * messages.length)];
      const popup = document.createElement("div");
      popup.className = "popup-message";
      popup.textContent = msg;
      document.body.appendChild(popup);
      setTimeout(() => popup.remove(), 2500);
    }
  </script>
</body>
</html>
